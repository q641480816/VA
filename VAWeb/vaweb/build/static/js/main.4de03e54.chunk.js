(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5327:function(e,t,a){e.exports=a(5499)},5332:function(e,t,a){},5334:function(e,t,a){},5422:function(e,t,a){},5496:function(e,t,a){},5499:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),o=a.n(r),l=(a(5332),a(19)),s=a(20),c=a(22),p=a(21),d=a(23),u=a(5502),m=(a(5334),a(3)),h=a(5501),g=a(5503),b=a(16),y=a(43),f=a(41),v=a.n(f),O=a(101),j=a.n(O);var k=Object(y.withStyles)(function(e){var t;return{root:{display:"block",minWidth:"160px;",width:"90%",height:"8.5vh",minHeight:"60px",margin:"auto",padding:"auto"},image:(t={position:"relative",height:200},Object(b.a)(t,e.breakpoints.down("xs"),{width:"50% !important",height:100}),Object(b.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(.75*e.spacing.unit,"px ").concat(6*e.spacing.unit,"px ").concat(e.spacing.unit+.75,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}})(function(e){var t=e.classes,a=e.images;return i.a.createElement("div",{className:t.root},a.map(function(e){return i.a.createElement(v.a,{focusRipple:!0,key:e.title,className:t.image,focusVisibleClassName:t.focusVisible,style:{width:e.width,height:"8.5vh",minHeight:"40px"},onClick:e.func},i.a.createElement("span",{className:t.imageSrc,style:{backgroundImage:"url(".concat(e.url,")")}}),i.a.createElement("span",{className:t.imageBackdrop}),i.a.createElement("span",{className:t.imageButton},i.a.createElement(j.a,{component:"span",color:"inherit",className:t.imageTitle},e.title,i.a.createElement("span",{className:t.imageMarked}))))}))}),S=a(110),w=a(106),C=a.n(w),E=a(107),x=a.n(E),M=a(108),D=a.n(M),P=a(104),B=a.n(P),N=a(103),T=a.n(N),W=a(60),z=a.n(W),I=a(105),L=a.n(I),R=a(46),A=a(44),F=a.n(A),U=a(102),Y=a.n(U),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getPupUp=function(e,t){var a=null===t?"No Data Available":t.numberOfThings;return'<div class="hoverinfo" style="display: flex; flex-direction: column"><span>'+e.properties.name+'</span><span style="margin-top: 5px;">'+a+"</span></div>"},a.drawMap=function(){return new Y.a({scope:"world",element:document.getElementById("mapContainer"),projection:"equirectangular",responsive:!1,dataType:"json",fills:{defaultFill:"#ddd"},data:a.state.data.dataset,geographyConfig:{borderColor:a.state.borderDefault,borderWidth:a.state.defaultStrokeWidth,highlightBorderColor:a.state.highlightBorderColor,highlightBorderWidth:a.state.highlightStrokeWidth,highlightFillColor:function(e){return e.fillColor||"#ddd"},highlightOnHover:!0,popupTemplate:function(e,t){return a.getPupUp(e,t)}}})},a.renderLegend=function(){if(a.state.data.legendSet)return i.a.createElement("div",{className:a.styles.legendContainer},i.a.createElement("div",{className:a.styles.legendWrapper,style:{width:a.state.data.legendSet.length*a.state.legendBlockSize+"vw",minWidth:38*a.state.data.legendSet.length+"px"}},a.state.data.legendSet.map(function(e){return i.a.createElement(F.a,{title:e.display,placement:"top"},i.a.createElement("div",{className:a.styles.legendBlock,style:{backgroundColor:e.color,width:a.state.legendBlockSize+"vw"},onMouseOver:function(){return a.onLegendBlockMouseOver(e.valueSet)},onMouseOut:function(){return a.onLegendBlockMouseOut()}}))})))},a.clearMap=function(){for(var e=a.mapRef.current,t=Array.from(e.childNodes),n=0;n<t.length;n++){var i=t[n];e.removeChild(i)}},a.onLegendBlockMouseOver=function(e){e.forEach(function(e){a.state.map.svg.selectAll("."+e).transition().style("stroke-width",a.state.highlightStrokeWidth).style("stroke",a.state.highlightBorderColor)})},a.onLegendBlockMouseOut=function(){a.state.map.svg.selectAll(".datamaps-subunit").transition().style("stroke",a.state.borderDefault)},a.state={mapClass:null,map:null,data:null,legendBlockSize:7,borderDefault:"#DEDEDE",highlightBorderColor:"#FFFF00",highlightStrokeWidth:1,defaultStrokeWidth:.45},a.mapRef=i.a.createRef(),a.styles=a.props.classes,a.drawMap=a.drawMap.bind(Object(m.a)(Object(m.a)(a))),a.clearMap=a.clearMap.bind(Object(m.a)(Object(m.a)(a))),a.getPupUp=a.getPupUp.bind(Object(m.a)(Object(m.a)(a))),a.renderLegend=a.renderLegend.bind(Object(m.a)(Object(m.a)(a))),a.onLegendBlockMouseOver=a.onLegendBlockMouseOver.bind(Object(m.a)(Object(m.a)(a))),a.onLegendBlockMouseOut=a.onLegendBlockMouseOut.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",function(){}),this.setState({mapClass:this.props.mapClass,data:this.props.data})}},{key:"componentDidMount",value:function(){this.setState({map:this.drawMap()})}},{key:"componentWillReceiveProps",value:function(e){if(e.data!==this.state.data){var t=this.state.map;t.updateChoropleth(e.data.dataset),this.setState({data:e.data,map:t,mapClass:e.mapClass})}}},{key:"componentDidUpdate",value:function(e,t,a){this.state.mapClass!==t.mapClass&&(this.clearMap(),this.setState({map:this.drawMap()}))}},{key:"componentWillUnmount",value:function(){this.clearMap()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"mapContainer",style:this.state.mapClass,ref:this.mapRef}),this.renderLegend())}}]),t}(n.Component),$=Object(y.withStyles)(function(e){var t,a;return{legendContainer:(t={position:"relative",width:"100vw"},Object(b.a)(t,e.breakpoints.down("xs"),{marginTop:"-10px"}),Object(b.a)(t,e.breakpoints.up("sm"),{marginTop:"-20px"}),Object(b.a)(t,e.breakpoints.up("md"),{marginTop:"-35px"}),t),legendWrapper:{position:"relative",margin:"auto",display:"flex",flexDirection:"row"},legendBlock:(a={position:"relative",zIndex:100,minWidth:"38px"},Object(b.a)(a,e.breakpoints.down("xs"),{height:"4px"}),Object(b.a)(a,e.breakpoints.up("sm"),{height:"10px"}),Object(b.a)(a,e.breakpoints.up("md"),{height:"12px"}),a)}})(H),V={fetchUrl:"http://www.callmedady.com:8080/vab/bootstrap/getAll",allData:null,typePair:{prevalenceInPercent:{display:"Prevalence",key:"prevalenceInPercent",description:"Prevalence Rate in "},maleInPercent:{display:"Male Smoker",key:"maleInPercent",description:"Male adult smoking percent in "},femaleInPercent:{display:"Female Smoker",key:"femaleInPercent",description:"Female adult smoking percent in "},dailyConsumption:{display:"Daily Tobacco Consumption",key:"dailyConsumption",description:"Average daily consumption in "},death:{display:"Death due to smoke",key:"death",description:"Death due to smoking in "},cancerDeathInPercent:{display:"Cancer contribution",key:"cancerDeathInPercent",description:"Cancer contribution to smoking Death in "}}},_=(a(5422),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).renderSelectType=function(){return i.a.createElement(T.a,{disabled:a.state.isAutoPlay},i.a.createElement(B.a,{name:"type",displayEmpty:!0,value:a.state.selectedType,onChange:function(e){return a.onSelectTypeChange(e)}},i.a.createElement(z.a,{value:"",disabled:!0,key:""},"Types"),Object.keys(V.typePair).map(function(e){return i.a.createElement(z.a,{value:V.typePair[e].key,key:V.typePair[e].key},i.a.createElement("span",{className:a.styles.menuItem},V.typePair[e].display))})))},a.renderSlider=function(){return i.a.createElement("div",{className:"timeBar"},i.a.createElement(L.a,{className:"slider",value:a.state.yearSelected,min:0,max:a.state.yearSet.length-1,step:1,onChange:function(e,t){a.setState({yearSelected:t})},thumb:i.a.createElement(F.a,{title:a.state.yearSet[a.state.yearSelected]},i.a.createElement(R.a,{style:{color:"#2196f3"}}))}))},a.renderDescription=function(){return i.a.createElement("div",{className:"description"},i.a.createElement("span",{className:a.styles.descriptionContent},V.typePair[a.state.selectedType].description+a.state.yearSet[a.state.yearSelected]))},a.mapResize=function(){a.setState({mapClass:a.prepareMapClass()})},a.prepareMapClass=function(){var e=.72*document.documentElement.clientHeight,t=e/5*9;return t>=document.documentElement.clientWidth&&(e=(t=document.documentElement.clientWidth-20)/9*5),{position:"relative",marginLeft:"auto",marginRight:"auto",height:e+"px",width:t+"px"}},a.processData=function(){var e={},t=V.typePair[a.state.selectedType].key,n=a.state.data.typeYearDataSet[t].data[a.state.yearSet[a.state.yearSelected]],i=a.state.data.typeYearDataSet[t].legend,r={},o=n.map(function(e){return e[t]}),l=Object(S.a)().domain([0,null!=i?i[i.length-1]:Math.max.apply(null,o)]).range(["#EFEFFF","#02386F"]),s=a.state.data.typeYearDataSet[t].legendSeparator,c=[];if(i){for(var p=0;p<i.length-1;p++)c.push({display:i[p]+s+" - "+i[p+1]+s,color:l(i[p]),value:[i[p],i[p+1]],valueSet:[]});c.push({display:"> "+i[i.length-1]+s,color:l(i[i.length-1]),value:[i[i.length-1],Number.MAX_SAFE_INTEGER],valueSet:[]})}return n.forEach(function(e){var a=e.countryCode,n=e[t];r[a]={numberOfThings:n,fillColor:l(n)};for(var i=0;i<c.length;i++){var o=c[i];o.value[0]<=n&&o.value[1]>n&&o.valueSet.push(a),c[i]=o}}),e.dataset=r,e.legendSet=c,e},a.onSelectTypeChange=function(e){a.setState({selectedType:e.target.value,yearSet:a.state.data.typeYearDataSet[e.target.value].years,yearSelected:0})},a.togglePlay=function(e){a.setState({isAutoPlay:e}),e&&a.play(e)},a.play=function(e){if(e||a.state.isAutoPlay){var t=a.state.yearSelected+1;a.setState({yearSelected:t,isAutoPlay:t!==a.state.yearSet.length-1}),setTimeout(function(){a.play()},200)}else a.state.yearSelected===a.state.yearSet.length-1&&a.setState({yearSelected:0})},a.state={mapClass:null,data:null,selectedType:"prevalenceInPercent",yearSet:[],yearSelected:0,isAutoPlay:!1,mapBoxHeight:72},a.styles=a.props.classes,a.prepareMapClass=a.prepareMapClass.bind(Object(m.a)(Object(m.a)(a))),a.processData=a.processData.bind(Object(m.a)(Object(m.a)(a))),a.renderSelectType=a.renderSelectType.bind(Object(m.a)(Object(m.a)(a))),a.renderDescription=a.renderDescription.bind(Object(m.a)(Object(m.a)(a))),a.renderSlider=a.renderSlider.bind(Object(m.a)(Object(m.a)(a))),a.onSelectTypeChange=a.onSelectTypeChange.bind(Object(m.a)(Object(m.a)(a))),a.play=a.play.bind(Object(m.a)(Object(m.a)(a))),a.togglePlay=a.togglePlay.bind(Object(m.a)(Object(m.a)(a))),a.mapResize=a.mapResize.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({mapClass:this.prepareMapClass(),data:this.props.data,yearSet:this.props.data.typeYearDataSet[this.state.selectedType].years})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.mapResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.mapResize)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"map-base"},i.a.createElement(C.a,null,i.a.createElement(x.a,{position:"static",className:this.styles.configBar},i.a.createElement(D.a,{style:{minHeight:"35px",height:"6vh"}},this.renderSelectType())),this.renderDescription(),i.a.createElement("div",{className:this.styles.mapContainer},i.a.createElement($,{mapClass:this.state.mapClass,data:this.processData()}))),i.a.createElement("div",{style:{width:"100vw",height:"6vh"}},i.a.createElement("div",{className:"bottom"},i.a.createElement("div",{style:{width:"3vw",minWidth:"25px"}},this.state.isAutoPlay?i.a.createElement(R.b,{onClick:function(){return e.togglePlay(!1)}}):i.a.createElement(R.c,{onClick:function(){return e.togglePlay(!0)}})),this.renderSlider())))}}]),t}(n.Component)),q=Object(y.withStyles)(function(e){var t,a,n;return{menuItem:(t={},Object(b.a)(t,e.breakpoints.down("sm"),{fontSize:"12px !important"}),Object(b.a)(t,e.breakpoints.up("lg"),{fontSize:"17px !important"}),t),configBar:{borderRadius:0,height:"6vh",minHeight:"35px",backgroundColor:"#ffffff"},descriptionContent:(a={},Object(b.a)(a,e.breakpoints.down("xs"),{fontSize:"17px !important"}),Object(b.a)(a,e.breakpoints.up("sm"),{fontSize:"24px !important",fonWeight:"bold"}),Object(b.a)(a,e.breakpoints.up("md"),{fontSize:"33px !important",fonWeight:"bold"}),a),mapContainer:(n={width:"100vw"},Object(b.a)(n,e.breakpoints.down("xs"),{height:"60vh"}),Object(b.a)(n,e.breakpoints.up("sm"),{height:"72vh"}),n)}})(_),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"Data")}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"Default")}}]),t}(n.Component),X=(a(5496),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getNavigationBar=function(){return[{url:"https://imgcs.artprintimages.com/img/print/print/pela-design-old-world-map_a-l-9730967-0.jpg?w=550&h=550",title:"World",width:"50%",func:a.onMapShow},{url:"https://cmkt-image-prd.global.ssl.fastly.net/0.1.0/ps/3531131/1360/906/m1/fpnw/wm1/wyxjobfaj3tqsfffecuvn3asvh9jutaao5tv8wmi2petimokkb1ksubbpbazinh2-.jpg?1509966990&s=5858246a1eae64c71c048b64d355653b",title:"Data",width:"50%",func:a.onDataShow}]},a.getCountryYear=function(){fetch(V.fetchUrl,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){V.allData=e,a.setState({data:e})}).catch(function(e){return console.log(e)})},a.onMapShow=function(){a.state.history.push("/map")},a.onDataShow=function(){a.state.history.push("/data")},a.renderMap=function(){return null!=a.state.data?i.a.createElement(q,{data:a.state.data}):i.a.createElement("div",null)},a.state={data:null,history:null},a.getNavigationBar=a.getNavigationBar.bind(Object(m.a)(Object(m.a)(a))),a.onMapShow=a.onMapShow.bind(Object(m.a)(Object(m.a)(a))),a.onDataShow=a.onDataShow.bind(Object(m.a)(Object(m.a)(a))),a.renderMap=a.renderMap.bind(Object(m.a)(Object(m.a)(a))),a.getCountryYear=a.getCountryYear.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({history:this.props.history}),this.getCountryYear()}},{key:"render",value:function(){return i.a.createElement("div",{className:"base"},i.a.createElement("div",{id:"toolbar"},i.a.createElement(k,{images:this.getNavigationBar()})),i.a.createElement("div",{id:"content"},i.a.createElement(h.a,{exact:!0,path:"/",component:G}),i.a.createElement(h.a,{path:"/map",component:this.renderMap}),i.a.createElement(h.a,{path:"/data",component:J})))}}]),t}(n.Component)),K=Object(g.a)(X),Q=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(u.a,null,i.a.createElement(K,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5327,2,1]]]);
//# sourceMappingURL=main.4de03e54.chunk.js.map