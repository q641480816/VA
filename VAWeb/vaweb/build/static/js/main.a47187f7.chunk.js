(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5429:function(e,t,a){e.exports=a(5781)},5434:function(e,t,a){},5436:function(e,t,a){},5712:function(e,t,a){},5778:function(e,t,a){},5781:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(32),i=a.n(o),l=(a(5434),a(15)),s=a(16),c=a(18),p=a(17),d=a(19),u=a(5783),h=(a(5436),a(3)),m=a(5782),y=a(5784),f=a(12),b=a(28),g=a(44),S=a.n(g),v=a(52),O=a.n(v);var C=Object(b.withStyles)(function(e){var t;return{root:{display:"block",minWidth:"160px;",width:"90%",height:"8.5vh",minHeight:"60px",margin:"auto",padding:"auto"},image:(t={position:"relative",height:200},Object(f.a)(t,e.breakpoints.down("xs"),{width:"50% !important",height:100}),Object(f.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(.75*e.spacing.unit,"px ").concat(6*e.spacing.unit,"px ").concat(e.spacing.unit+.75,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}})(function(e){var t=e.classes,a=e.images;return r.a.createElement("div",{className:t.root},a.map(function(e){return r.a.createElement(S.a,{focusRipple:!0,key:e.title,className:t.image,focusVisibleClassName:t.focusVisible,style:{width:e.width,height:"8.5vh",minHeight:"40px"},onClick:e.func},r.a.createElement("span",{className:t.imageSrc,style:{backgroundImage:"url(".concat(e.url,")")}}),r.a.createElement("span",{className:t.imageBackdrop}),r.a.createElement("span",{className:t.imageButton},r.a.createElement(O.a,{component:"span",color:"inherit",className:t.imageTitle},e.title,r.a.createElement("span",{className:t.imageMarked}))))}))}),k=a(73),j=a(200),D=a.n(j),E=a(99),A=a.n(E),w=a(201),M=a.n(w),T=a(100),N=a.n(T),R=a(45),B=a.n(R),P=a(72),x=a.n(P),L=a(199),I=a.n(L),G=a(103),W=a(40),F=a.n(W),U=a(192),Y=a.n(U),H={fetchUrl:"http://www.callmedady.com:8080/vab/bootstrap/getAll",allData:null,typePair:{prevalenceInPercent:{display:"Prevalence",key:"prevalenceInPercent",description:"Prevalence Rate ",separator:["%"]},maleInPercent:{display:"Male Smoker",key:"maleInPercent",description:"Male adult smoking percent ",separator:["%"]},femaleInPercent:{display:"Female Smoker",key:"femaleInPercent",description:"Female adult smoking percent ",separator:["%"]},dailyConsumption:{display:"Daily Tobacco Consumption",key:"dailyConsumption",description:"Average daily consumption ",separator:[]},death:{display:"Death due to smoke",key:"death",description:"Death due to smoking ",separator:["\u2031","\u2030"]},cancerDeathInPercent:{display:"Cancer contribution",key:"cancerDeathInPercent",description:"Cancer contribution to smoking Death ",separator:["%"]}},mapProjection:{world:{key:"world",display:"World",projection:{x:0,y:0,scale:1}},asia:{key:"asia",display:"Asia",projection:{x:-700,y:-70,scale:1.85},countries:["AFG","AZE","BHR","BGD","ARM","BTN","IOT","LKA","CHN","TWN","CXR","CCK","CYP","GEO","PSE","HKG","IND","IRN","IRQ","ISR","JPN","KAZ","JOR","PRK","KOR","KWT","KGZ","LBN","MAC","MDV","MNG","OMN","NPL","PAK","TLS","QAT","RUS","SAU","SYR","TJK","ARE","TUR","TKM","UZB","YEM"]},OceaniaASEAN:{key:"OceaniaASEAN",display:"Oceania & ASEAN",projection:{x:-1250,y:-350,scale:1.95},countries:["THA","VNM","LAO","SGP","PHL","MMR","KHM","MYS","IDN","BRN","ASM","AUS","SLB","COK","FJI","PYF","KIR","GUM","NRU","NCL","VUT","NZL","NIU","NFK","MNP","UMI","FSM","MHL","PLW","PNG","PCN","TKL","TON","TUV","WLF","WSM"]},europe:{key:"europe",display:"Europe",projection:{x:-850,y:0,scale:2.4},countries:["ALB","AND","AZE","AUT","ARM","BEL","BIH","BGR","BLR","HRV","CYP","CZE","DNK","EST","FRO","FIN","ALA","FRA","GEO","DEU","GIB","GRC","VAT","HUN","ISL","IRL","ITA","KAZ","LVA","LIE","LTU","LUX","MLT","MCO","MDA","MNE","NLD","NOR","POL","PRT","ROU","RUS","SMR","SRB","SVK","SVN","ESP","SJM","SWE","CHE","TUR","UKR","MKD","GBR","GGY","JEY","IMN"]},africa:{key:"africa",display:"Africa",projection:{x:-650,y:-280,scale:2},countries:["DZA","AGO","BWA","BDI","CMR","CPV","CAF","TCD","COM","MYT","COG","COD","BEN","GNQ","ETH","ERI","DJI","GAB","GMB","GHA","GIN","CIV","KEN","LSO","LBR","LBY","MDG","MWI","MLI","MRT","MUS","MAR","MOZ","NAM","NER","NGA","GNB","REU","RWA","SHN","STP","SEN","SYC","SLE","SOM","ZAF","ZWE","SSD","SDN","ESH","SWZ","TGO","TUN","UGA","EGY","TZA","BFA","ZMB"]},northAmerica:{key:"northAmerica",display:"North America",projection:{x:150,y:-60,scale:1.85},countries:["ATG","BHS","BRB","BMU","BLZ","VGB","CAN","CYM","CRI","CUB","DMA","DOM","SLV","GRL","GRD","GLP","GTM","HTI","HND","JAM","MTQ","MEX","MSR","ANT","CUW","ABW","SXM","BES","NIC","UMI","PAN","PRI","BLM","KNA","AIA","LCA","MAF","SPM","VCT","TTO","TCA","USA","VIR"]},southAmerica:{key:"southAmerica",display:"South America",projection:{x:-100,y:-420,scale:1.98},countries:["ARG","BOL","BRA","CHL","COL","ECU","FLK","GUF","GUY","PRY","PER","SUR","URY","VEN"]}},colors:{world:{dark:"#072F66",main:"#0B3D82",medium:"#3266AD",light:"#5481BE"},country:{dark:"#8F480D",main:"#B56726",medium:"#F5AE73",light:"#FFCDA3"},highlight:{dark:"#FCE20A",main:"#FFEA39",medium:"#FFF181",light:"#FFF6AF"}},resizeFactor:{width:1041.04,height:473.2},resizeDimension:function(e,t){return{y:t.height/H.resizeFactor.height*e.y,x:t.width/H.resizeFactor.width*e.x,scale:e.scale}},countryCodeISO:["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BQ","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","CPV","KHM","CMR","CAN","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","SWZ","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PS","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SH","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWE","CHE","SYR","TW","TJK","TZ","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]},K=H,z=a(193),V=a.n(z),Z=a(195),J=a.n(Z),Q=a(194),X=a.n(Q),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleClickOpen=function(){a.setState({isOpen:!0})},a.handleClose=function(){a.setState({isOpen:!1})},a.state={title:"",isOpen:!1,clicked:!1},a.styles=a.props.classes,a.handleClickOpen=a.handleClickOpen.bind(Object(h.a)(Object(h.a)(a))),a.handleClose=a.handleClose.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({title:this.props.title})}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title})}},{key:"componentWillUnmount",value:function(){this.props.onRef(null)}},{key:"render",value:function(){return r.a.createElement(V.a,{open:this.state.isOpen,maxWidth:"lg",maxheight:"lg",onClose:this.handleClose},r.a.createElement(X.a,{id:"alert-dialog-title"},this.state.title),r.a.createElement(J.a,null,this.props.children))}}]),t}(n.Component),q=Object(b.withStyles)(function(e){return{dialog:{maxHeight:1e3,maxWidth:1e3},container:{}}})($),_=a(197),ee=a.n(_),te=a(130),ae=a.n(te),ne=a(58),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).prepareLineChart=function(){var e={};e.labels=Object.keys(a.state.data.selectedCountry).sort(),e.datasets=[];var t={label:a.state.data.selectedCountry[e.labels[0]].countryName,fill:!1,lineTension:.1,backgroundColor:K.colors.country.main,borderColor:K.colors.country.medium,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:K.colors.country.light,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:K.colors.country.main,pointHoverBorderColor:K.colors.country.medium,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:function(){var t=[];return e.labels.forEach(function(e){return t.push(a.state.data.selectedCountry[e][a.state.selectedType])}),t}()},n={label:"World",fill:!1,lineTension:.1,backgroundColor:K.colors.world.main,borderColor:K.colors.world.medium,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:K.colors.world.light,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:K.colors.world.main,pointHoverBorderColor:K.colors.world.medium,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:function(){var t=[];return e.labels.forEach(function(e){return t.push(a.state.data.world[e])}),t}()};return e.datasets.push(t,n),e},a.prepareOption=function(){return{maintainAspectRatio:!1,tooltips:{mode:"label",position:"nearest",callbacks:{label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return" "+n+":  "+(e.yLabel+"").substring(0,5)+a.state.data.separator},afterBody:function(e,t){return"\n"+t.datasets[0].label+"is ranked NO."+(a.state.worldDataSet[e[0].xLabel].indexOf(e[0].yLabel)+1)+" in the World"}}},scales:{yAxes:[{ticks:{padding:10,callback:function(e,t){return e+a.state.data.separator}},scaleLabel:{display:!0,labelString:a.state.data.yLabel}}],xAxes:[{ticks:{padding:10},scaleLabel:{display:!0,labelString:"Year"}}]}}},a.state={data:null,selectedType:null,worldDataSet:{}},a.styles=a.props.classes,a.prepareLineChart=a.prepareLineChart.bind(Object(h.a)(Object(h.a)(a))),a.prepareOption=a.prepareOption.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({data:this.props.data,selectedType:this.props.selectedType,worldDataSet:this.props.worldDataSet})}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data,selectedType:e.selectedType,worldDataSet:e.worldDataSet})}},{key:"render",value:function(){return r.a.createElement(ne.a,{width:600,height:350,options:this.prepareOption(),data:this.prepareLineChart()})}}]),t}(n.Component),oe=Object(b.withStyles)(function(e){return{container:{display:"flex",flexDirection:"column"}}})(re),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).prepareRadarChart=function(){var e=[],t=[],n=[];return Object.values(K.typePair).forEach(function(r){if(r.separator.length>0){var o=a.state.selectedData[r.key]<=100?a.state.selectedData[r.key]:a.state.selectedData[r.key]/100,i=a.state.selectedData[r.key]<=100?K.typePair[r.key].separator[0]:K.typePair[r.key].separator[1];e.push(r.display+" in "+i),t.push(o),n.push(r.key)}}),a.keys=n,{labels:e,datasets:[{label:"Overview of "+a.state.selectedData.countryName+" in year of "+a.state.selectedData.year,backgroundColor:K.colors.world.main,borderColor:K.colors.world.medium,pointBorderColor:K.colors.world.light,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:K.colors.world.main,pointHoverBorderColor:K.colors.world.medium,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t}]}},a.prepareOption=function(){var e=0;return Object.values(K.typePair).forEach(function(t){if(t.separator.length>0){var n=a.state.selectedData[t.key]<=100?a.state.selectedData[t.key]:a.state.selectedData[t.key]/10;n>e&&(e=n)}}),{maintainAspectRatio:!0,scale:{ticks:{beginAtZero:!0,max:e+20<100?10*(parseInt(e/10,10)+2):100}},tooltips:{mode:"label",position:"nearest",callbacks:{label:function(e,t){var n=a.keys[e.index],r=a.state.selectedData[n]<=100?a.state.selectedData[n]:a.state.selectedData[n]/10;r=(r+"").substring(0,5);var o=a.state.selectedData[n]<=100?K.typePair[n].separator[0]:K.typePair[n].separator[1];return" "+K.typePair[n].display+": "+(0===a.state.selectedData[n]?"No data available for this country in this year":r+o)}}}}},a.state={data:null,selectedType:null},a.styles=a.props.classes,a.keys=[],a.prepareRadarChart=a.prepareRadarChart.bind(Object(h.a)(Object(h.a)(a))),a.prepareOption=a.prepareOption.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({data:this.props.data,selectedType:this.props.selectedType,selectedYear:this.props.selectedYear,selectedData:this.props.data.groupedDataSet[Object.values(this.props.data.selectedCountry)[0].countryName+this.props.selectedYear]})}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data,selectedType:e.selectedType,selectedYear:e.selectedYear,selectedData:e.data.groupedDataSet[Object.values(e.data.selectedCountry)[0].countryName+e.selectedYear]})}},{key:"render",value:function(){return r.a.createElement(ne.c,{data:this.prepareRadarChart(),width:600,height:350,options:this.prepareOption()})}}]),t}(n.Component),le=Object(b.withStyles)(function(e){return{container:{display:"flex",flexDirection:"column"}}})(ie),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).openDialog=function(e,t,n){if(0===Object.values(e.selectedCountry).length)alert("N/A");else{var r={};Object.keys(e.source.data).forEach(function(a){r[a]=e.source.data[a].map(function(e){return e[t]}).sort(function(e,t){return t-e})}),a.setState({data:0!==Object.values(e.selectedCountry).length?e:null,selectedType:t,worldDataSet:r,title:K.typePair[t].display+" in "+Object.values(e.selectedCountry)[0].countryName,selectedYear:n,value:0}),a.dialog.handleClickOpen()}},a.onTabChange=function(e,t){a.setState({value:t,title:0===t?K.typePair[a.state.selectedType].display+" in "+Object.values(a.state.data.selectedCountry)[0].countryName:"Overview in "+Object.values(a.state.data.selectedCountry)[0].countryName+" in year of "+a.state.selectedYear})},a.state={value:0,data:null,selectedType:null,worldDataSet:{},title:"",selectedYear:"1980",groupedDataSet:{}},a.styles=a.props.classes,a.openDialog=a.openDialog.bind(Object(h.a)(Object(h.a)(a))),a.onTabChange=a.onTabChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUnmount",value:function(){this.props.onRef(null)}},{key:"render",value:function(){var e=this;return null!=this.state.data?r.a.createElement(q,{onRef:function(t){e.dialog=t},title:this.state.title},r.a.createElement(A.a,{position:"static",color:"default"},r.a.createElement(ee.a,{value:this.state.value,onChange:function(t,a){return e.onTabChange(t,a)},indicatorColor:"primary",textColor:"primary",fullWidth:!0},r.a.createElement(ae.a,{label:this.state.selectedType?K.typePair[this.state.selectedType].display:"Null"}),r.a.createElement(ae.a,{label:"Country Overview"}))),r.a.createElement("div",{className:this.styles.container},0===this.state.value&&r.a.createElement(oe,{data:this.state.data,selectedType:this.state.selectedType,worldDataSet:this.state.worldDataSet}),1===this.state.value&&r.a.createElement(le,{data:this.state.data,selectedType:this.state.selectedType,selectedYear:this.state.selectedYear}))):r.a.createElement("div",null)}}]),t}(n.Component),ce=Object(b.withStyles)(function(e){var t;return{container:(t={display:"flex",flexDirection:"column"},Object(f.a)(t,e.breakpoints.down("xs"),{padding:"6px"}),Object(f.a)(t,e.breakpoints.up("sm"),{fontSize:"24px !important",padding:"9px"}),Object(f.a)(t,e.breakpoints.up("md"),{padding:"12px"}),t)}})(se),pe=a(210),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).openDialog=function(e){e.chart?(a.setState({selectedType:K.typePair[e.name],data:e,chart:e.chart,selectedYear:e.selectedYear,separator:e.separator,title:K.typePair[e.name].display+" for countries within the range of "+e.legend.display}),a.dialog.handleClickOpen()):alert("N/A")},a.renderChart=function(){return null!==a.state.data?r.a.createElement(pe.a,{data:a.state.chart,animation:!0,height:400,width:600,style:{stroke:"#ddd",strokeOpacity:.3,strokeWidth:"0.5"},hideRootNode:!0,colorType:"literal",onValueMouseOver:function(e){return a.handleMouseOver(e)},onValueMouseOut:function(e){return a.handleMouseOut(e)}}):r.a.createElement("div",null)},a.updateData=function(e,t){return e.children&&e.children.map(function(e){return a.updateData(e,t)}),e.style={fillOpacity:t&&!t[e.name]?.2:1},e},a.getKeyPath=function(e){return e.parent?[e.data&&e.data.name||e.name].concat(a.getKeyPath(e.parent)):["root"]},a.getSectionDescription=function(e){for(var t=e[e.length-1],n=null,r=0;r<a.state.chart.children.length;r++){var o=a.state.chart.children[r];if(o.name===e[1]){if(2===e.length)!function(){var e=0,t=0;o.children.forEach(function(a){t++,e+=a.size}),n=(e/t+"").substring(0,5)+a.state.separator}();else for(var i=0;i<o.children.length;i++){var l=o.children[i];if(l.name===t){n=(l.size+"").substring(0,5)+a.state.separator;break}}if(n)break}}return a.state.selectedType.display+" in "+t+" is "+n+" in "+a.state.selectedYear+(2===e.length?" in average":"")+" in the range of "+a.state.data.legend.display},a.handleMouseOver=function(e){var t=a.getKeyPath(e).reverse();a.getSectionDescription(t);var n=t.reduce(function(e,t){return e[t]=!0,e},{});a.setState({label:a.getSectionDescription(t),chart:a.updateData(a.state.chart,n)})},a.handleMouseOut=function(e){a.setState({label:"Please hover to a section to see detail",chart:a.updateData(a.state.data.chart,!1)})},a.state={selectedType:null,data:null,chart:null,label:"Please hover to a section to see detail",selectedYear:"1990",separator:"%",title:""},a.styles=a.props.classes,a.openDialog=a.openDialog.bind(Object(h.a)(Object(h.a)(a))),a.renderChart=a.renderChart.bind(Object(h.a)(Object(h.a)(a))),a.handleMouseOver=a.handleMouseOver.bind(Object(h.a)(Object(h.a)(a))),a.handleMouseOut=a.handleMouseOut.bind(Object(h.a)(Object(h.a)(a))),a.updateData=a.updateData.bind(Object(h.a)(Object(h.a)(a))),a.getKeyPath=a.getKeyPath.bind(Object(h.a)(Object(h.a)(a))),a.getSectionDescription=a.getSectionDescription.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUnmount",value:function(){this.props.onRef(null)}},{key:"render",value:function(){var e=this;return r.a.createElement(q,{title:this.state.title,onRef:function(t){e.dialog=t}},r.a.createElement(F.a,{title:this.state.label,placement:"top",classes:{tooltip:this.styles.tooltip}},r.a.createElement("div",{className:this.styles.container},this.renderChart())))}}]),t}(n.Component),ue=Object(b.withStyles)(function(e){return{container:{display:"flex",flexDirection:"column",marginTop:40},tooltip:Object(f.a)({background:e.palette.common.white,boxShadow:e.shadows[1],color:e.palette.text.primary,fontSize:e.typography.pxToRem(15)},e.breakpoints.down("sm"),{fontSize:e.typography.pxToRem(10)})}})(de),he=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getPupUp=function(e,t){var n=-1===t.numberOfThings?"No Data Available":K.typePair[a.state.selectedType].display+": "+t.numberOfThings.toPrecision(4)+K.typePair[a.state.selectedType].separator;return'<div class="hoverinfo" style="display: flex; flex-direction: column"><span>'+e.properties.name+'</span><span style="margin-top: 5px;">'+n+"</span></div>"},a.openLegendDialog=function(e){a.legendSelectDialog.openDialog(a.prepareLegendSelectData(e))},a.prepareCountrySelectData=function(e){var t=a.state.data.fullData,n={selectedCountry:{},world:t.worldAverage,source:t,groupedDataSet:a.state.data.groupedDataSet,separator:a.state.data.separator,selectType:a.state.selectedType},r=K.typePair[a.state.selectedType].description;return n.yLabel=0===a.state.data.separator.length?r:r+" in "+a.state.data.separator,Object.keys(t.data).forEach(function(a){for(var r=0;r<t.data[a].length;r++)if(t.data[a][r].countryCode===e){n.selectedCountry[a]=t.data[a][r];break}}),n},a.prepareLegendSelectData=function(e){var t=Object(k.a)().domain([e.value[0],e.value[1]>100?e.value[0]+20:e.value[1]]).range(["#EFEFFF",K.colors.world.dark]),n={name:a.state.selectedType,rawData:a.state.data,legend:e,selectedYear:a.state.selectedYear,separator:a.state.data.separator},r={name:e.display,color:K.colors.world.dark,children:[]};return Object.keys(K.mapProjection).forEach(function(n){var o=K.mapProjection[n];if("world"!==o.key){var i={name:o.display,color:K.colors.world.medium,children:[]};if(e.valueSet.forEach(function(e){var n=a.state.data.rawData[e];o.countries.indexOf(e)>=0&&i.children.push({name:n.countryName,color:t(n[a.state.selectedType]),size:n[a.state.selectedType]})}),i.children.length>0){var l=0;i.children.forEach(function(e){l+=e.size});var s=Object(k.a)().domain([e.value[0],e.value[1]>100?e.value[0]+20:e.value[1]]).range(["#EFEFFF",K.colors.country.dark]);i.color=s(l/i.children.length),r.children.push(i)}}}),r.children.length>0&&(n.chart=r),n},a.drawMap=function(){var e=new Y.a({scope:"world",element:document.getElementById("mapContainer"),projection:"equirectangular",responsive:!1,dataType:"json",fills:{defaultFill:"#ddd"},done:function(e){e.svg.selectAll(".datamaps-subunit").on("click",function(e){a.openCountryDialog(e.properties.iso)})},data:a.state.data.dataset,geographyConfig:{borderColor:a.state.borderDefault,borderWidth:a.state.defaultStrokeWidth,highlightBorderColor:a.state.highlightBorderColor,highlightBorderWidth:a.state.highlightStrokeWidth,highlightFillColor:function(e){return e.fillColor||"#ddd"},highlightOnHover:!0,popupTemplate:function(e,t){return a.getPupUp(e,t)}}}),t=K.resizeDimension({x:a.state.selectedArea.projection.x,y:a.state.selectedArea.projection.y,scale:a.state.selectedArea.projection.scale},{height:a.state.mapClass.height.substring(0,a.state.mapClass.height.length-2),width:a.state.mapClass.width.substring(0,a.state.mapClass.width.length-2)});return e.svg.selectAll("g").attr("transform","translate("+t.x+","+t.y+")scale("+t.scale+")"),e},a.renderLegend=function(){if(a.state.data.legendSet)return r.a.createElement("div",{className:a.styles.legendContainer},r.a.createElement("div",{className:a.styles.legendWrapper,style:{width:a.state.data.legendSet.length*a.state.legendBlockSize+"vw",minWidth:38*a.state.data.legendSet.length+"px"}},a.state.data.legendSet.map(function(e){return r.a.createElement(F.a,{title:e.display,placement:"top",key:e.display},r.a.createElement("div",{className:a.styles.legendBlock,style:{backgroundColor:e.color,width:a.state.legendBlockSize+"vw"},onMouseOver:function(){return a.onLegendBlockMouseOver(e.valueSet)},onMouseOut:function(){return a.onLegendBlockMouseOut()},onClick:function(){return a.openLegendDialog(e)}}))})))},a.clearMap=function(){for(var e=a.mapRef.current,t=Array.from(e.childNodes),n=0;n<t.length;n++){var r=t[n];e.removeChild(r)}},a.onLegendBlockMouseOver=function(e){e.forEach(function(e){a.state.map.svg.selectAll("."+e).transition().style("stroke-width",a.state.highlightStrokeWidth).style("stroke",a.state.highlightBorderColor)})},a.onLegendBlockMouseOut=function(){a.state.map.svg.selectAll(".datamaps-subunit").transition().style("stroke",a.state.borderDefault)},a.openCountryDialog=function(e){a.countrySelectDialog.openDialog(a.prepareCountrySelectData(e),a.state.selectedType,a.state.selectedYear)},a.state={mapClass:null,map:null,data:null,legendBlockSize:7,borderDefault:"#DEDEDE",highlightBorderColor:K.colors.highlight.dark,highlightStrokeWidth:1,defaultStrokeWidth:.45,selectedArea:K.mapProjection[0],selectedType:"prevalenceInPercent",selectedYear:"1990"},a.mapRef=r.a.createRef(),a.styles=a.props.classes,a.drawMap=a.drawMap.bind(Object(h.a)(Object(h.a)(a))),a.clearMap=a.clearMap.bind(Object(h.a)(Object(h.a)(a))),a.getPupUp=a.getPupUp.bind(Object(h.a)(Object(h.a)(a))),a.renderLegend=a.renderLegend.bind(Object(h.a)(Object(h.a)(a))),a.onLegendBlockMouseOver=a.onLegendBlockMouseOver.bind(Object(h.a)(Object(h.a)(a))),a.onLegendBlockMouseOut=a.onLegendBlockMouseOut.bind(Object(h.a)(Object(h.a)(a))),a.prepareCountrySelectData=a.prepareCountrySelectData.bind(Object(h.a)(Object(h.a)(a))),a.prepareLegendSelectData=a.prepareLegendSelectData.bind(Object(h.a)(Object(h.a)(a))),a.openLegendDialog=a.openLegendDialog.bind(Object(h.a)(Object(h.a)(a))),a.openCountryDialog=a.openCountryDialog.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",function(){}),this.setState({mapClass:this.props.mapClass,data:this.props.data,selectedArea:this.props.selectedArea,selectedType:this.props.selectedType,selectedYear:this.props.selectedYear})}},{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({map:this.drawMap()})}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.map;if(e.data!==this.state.data&&t.updateChoropleth(e.data.dataset),e.selectedArea!==this.state.selectedArea){var a=K.resizeDimension({x:e.selectedArea.projection.x,y:e.selectedArea.projection.y,scale:e.selectedArea.projection.scale},{height:e.mapClass.height.substring(0,e.mapClass.height.length-2),width:e.mapClass.width.substring(0,e.mapClass.width.length-2)});t.svg.selectAll("g").attr("transform","translate("+a.x+","+a.y+")scale("+a.scale+")")}this.setState({data:e.data,map:t,mapClass:e.mapClass,selectedArea:e.selectedArea,selectedType:e.selectedType,selectedYear:e.selectedYear})}},{key:"componentDidUpdate",value:function(e,t,a){this.state.mapClass!==t.mapClass&&(this.clearMap(),this.setState({map:this.drawMap()}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(null),this.clearMap()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"mapContainer",style:this.state.mapClass,ref:this.mapRef}),this.renderLegend(),r.a.createElement(ce,{onRef:function(t){e.countrySelectDialog=t}}),r.a.createElement(ue,{onRef:function(t){e.legendSelectDialog=t}}))}}]),t}(n.Component),me=Object(b.withStyles)(function(e){var t,a;return{legendContainer:(t={position:"relative",width:"100vw"},Object(f.a)(t,e.breakpoints.down("xs"),{marginTop:"-5px"}),Object(f.a)(t,e.breakpoints.up("sm"),{marginTop:"-10px"}),Object(f.a)(t,e.breakpoints.up("md"),{marginTop:"-17px"}),t),legendWrapper:{position:"relative",margin:"auto",display:"flex",flexDirection:"row"},legendBlock:(a={borderTop:"2px solid #ffffff",borderBottom:"2px solid #ffffff",position:"relative",zIndex:100,minWidth:"38px"},Object(f.a)(a,e.breakpoints.down("xs"),{height:"4px"}),Object(f.a)(a,e.breakpoints.up("sm"),{height:"10px"}),Object(f.a)(a,e.breakpoints.up("md"),{height:"12px"}),Object(f.a)(a,"&:hover",{borderTop:"2px solid "+K.colors.highlight.dark,borderBottom:"2px solid "+K.colors.highlight.dark}),a)}})(he),ye=(a(5712),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).renderSelect=function(e,t,n,o,i){return r.a.createElement(B.a,{disabled:a.state.isAutoPlay,style:{marginRight:"15px"}},r.a.createElement(N.a,{name:e,displayEmpty:!0,value:a.state[t],onChange:function(e){return o(e)},disableUnderline:!0},r.a.createElement(x.a,{value:"",disabled:!0,key:""},i),Object.keys(n).map(function(e){return r.a.createElement(x.a,{value:n[e].key,key:n[e].key,style:{textAlign:"center"}},r.a.createElement("span",{className:a.styles.menuItem},n[e].display))})))},a.renderSlider=function(){return r.a.createElement("div",{className:"timeBar"},r.a.createElement(I.a,{className:"slider",value:a.state.yearSelected,min:0,max:a.state.yearSet.length-1,step:1,onChange:function(e,t){a.setState({yearSelected:t})},thumb:r.a.createElement(F.a,{title:a.state.yearSet[a.state.yearSelected]},r.a.createElement(G.a,{style:{color:K.colors.world.medium}}))}))},a.renderDescription=function(){return r.a.createElement("div",{className:"description"},r.a.createElement("span",{className:a.styles.descriptionContent},K.typePair[a.state.selectedType].description+"in "+a.state.yearSet[a.state.yearSelected]))},a.mapResize=function(){a.setState({mapClass:a.prepareMapClass()})},a.prepareMapClass=function(){var e=.65*document.documentElement.clientHeight,t=11*e/5;return t>=document.documentElement.clientWidth&&(e=(t=document.documentElement.clientWidth-20)/11*5),{position:"relative",marginLeft:"auto",marginRight:"auto",height:e+"px",width:t+"px"}},a.prepareCountries=function(){var e={},t=K.typePair[a.state.selectedType].key,n=a.state.data.typeYearDataSet[t].data[a.state.yearSet[a.state.yearSelected]];return e.default={key:"default",display:"Select Country"},n.forEach(function(t){var a=t.countryCode;e[a]={key:a,display:t.countryName}}),e},a.processData=function(){var e={},t=K.typePair[a.state.selectedType].key,n=a.state.data.typeYearDataSet[t].data[a.state.yearSet[a.state.yearSelected]],r=a.state.data.typeYearDataSet[t].legend,o={},i={},l=[],s=n.map(function(e){return e[t]}),c=Object(k.a)().domain([0,null!=r?r[r.length-1]:Math.max.apply(null,s)]).range(["#EFEFFF",K.colors.world.dark]),p=a.state.data.typeYearDataSet[t].legendSeparator,d=[];if(r){for(var u=0;u<r.length-1;u++)d.push({display:r[u]+p+" - "+r[u+1]+p,color:c(r[u]),value:[r[u],r[u+1]],valueSet:[]});d.push({display:"> "+r[r.length-1]+p,color:c(r[r.length-1]),value:[r[r.length-1],Number.MAX_SAFE_INTEGER],valueSet:[]})}n.forEach(function(e){var a=e.countryCode,n=e[t];i[a]={numberOfThings:n,fillColor:c(n)};for(var r=0;r<d.length;r++){var s=d[r];s.value[0]<=n&&s.value[1]>n&&s.valueSet.push(a),d[r]=s}o[a]=e,l.push({key:a,display:e.countryName})}),K.countryCodeISO.forEach(function(e){i[e]||(i[e]={numberOfThings:-1,fillColor:"#ddd"})});var h={};return a.state.data.dataSet.forEach(function(e){h[e.key]=e}),e.dataset=i,e.legendSet=d,e.fullData={},e.fullData.data=a.state.data.typeYearDataSet[t].data,e.fullData.worldAverage=a.state.data.typeYearDataSet[t].average,e.separator=p,e.rawData=o,e.groupedDataSet=h,e},a.onSelectTypeChange=function(e){a.setState({selectedType:e.target.value,yearSet:a.state.data.typeYearDataSet[e.target.value].years,yearSelected:0})},a.onSelectedAreaChange=function(e){a.setState({selectedArea:e.target.value})},a.togglePlay=function(e){a.setState({isAutoPlay:e}),e&&a.play(e)},a.play=function(e){if(e||a.state.isAutoPlay){var t=a.state.yearSelected+1;a.setState({yearSelected:t,isAutoPlay:t!==a.state.yearSet.length-1}),setTimeout(function(){a.play()},200)}else a.state.yearSelected===a.state.yearSet.length-1&&a.setState({yearSelected:0})},a.openCountryDialog=function(e){a.mapElement.openCountryDialog(e)},a.state={mapClass:null,bottomPaddingTop:0,data:null,selectedType:"prevalenceInPercent",yearSet:[],yearSelected:0,isAutoPlay:!1,mapBoxHeight:72,selectedArea:K.mapProjection.world.key,selectedCountry:"default"},a.styles=a.props.classes,a.prepareMapClass=a.prepareMapClass.bind(Object(h.a)(Object(h.a)(a))),a.processData=a.processData.bind(Object(h.a)(Object(h.a)(a))),a.prepareCountries=a.prepareCountries.bind(Object(h.a)(Object(h.a)(a))),a.renderDescription=a.renderDescription.bind(Object(h.a)(Object(h.a)(a))),a.renderSelect=a.renderSelect.bind(Object(h.a)(Object(h.a)(a))),a.renderSlider=a.renderSlider.bind(Object(h.a)(Object(h.a)(a))),a.onSelectTypeChange=a.onSelectTypeChange.bind(Object(h.a)(Object(h.a)(a))),a.onSelectedAreaChange=a.onSelectedAreaChange.bind(Object(h.a)(Object(h.a)(a))),a.play=a.play.bind(Object(h.a)(Object(h.a)(a))),a.togglePlay=a.togglePlay.bind(Object(h.a)(Object(h.a)(a))),a.mapResize=a.mapResize.bind(Object(h.a)(Object(h.a)(a))),a.openCountryDialog=a.openCountryDialog.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({mapClass:this.prepareMapClass(),data:this.props.data,yearSet:this.props.data.typeYearDataSet[this.state.selectedType].years})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.mapResize),console.log(document.getElementById("bottom").clientHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.mapResize)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"map-base"},r.a.createElement(D.a,null,r.a.createElement(A.a,{position:"static",className:this.styles.configBar},r.a.createElement(M.a,{style:{minHeight:"35px",height:"6vh",flexDirection:"row",flex:1}},r.a.createElement("div",{style:{flex:1,justifyContent:"flex-start"}},r.a.createElement(F.a,{title:"Select different type of data set"},this.renderSelect("type","selectedType",K.typePair,this.onSelectTypeChange,"Types")),r.a.createElement(F.a,{title:"Zone in to different areas"},this.renderSelect("area","selectedArea",K.mapProjection,this.onSelectedAreaChange,"Areas")),r.a.createElement(F.a,{title:"If the desired country is too small on map, please select here"},this.renderSelect("country","selectedCountry",this.prepareCountries(),function(t){e.openCountryDialog(t.target.value)},"Country"))))),this.renderDescription(),r.a.createElement("div",{className:this.styles.mapContainer},r.a.createElement(me,{mapClass:this.state.mapClass,data:this.processData(),selectedArea:K.mapProjection[this.state.selectedArea],selectedType:this.state.selectedType,selectedYear:this.state.yearSet[this.state.yearSelected],onRef:function(t){e.mapElement=t}}))),r.a.createElement("div",{className:this.styles.bottomWrapper,style:{width:"100vw",height:"6vh"}},r.a.createElement("div",{id:"bottom",className:this.styles.bottom},r.a.createElement("div",{style:{width:"3vw",minWidth:"25px"}},this.state.isAutoPlay?r.a.createElement(G.b,{onClick:function(){return e.togglePlay(!1)}}):r.a.createElement(G.c,{onClick:function(){return e.togglePlay(!0)}})),this.renderSlider())))}}]),t}(n.Component)),fe=Object(b.withStyles)(function(e){var t,a,n,r;return{menuItem:(t={},Object(f.a)(t,e.breakpoints.down("sm"),{fontSize:"12px !important"}),Object(f.a)(t,e.breakpoints.up("lg"),{fontSize:"17px !important"}),t),configBar:{borderRadius:0,height:"6vh",minHeight:"25px",backgroundColor:"#ffffff"},descriptionContent:(a={},Object(f.a)(a,e.breakpoints.down("xs"),{fontSize:"17px !important"}),Object(f.a)(a,e.breakpoints.up("sm"),{fontSize:"24px !important",fonWeight:"bold"}),Object(f.a)(a,e.breakpoints.up("md"),{fontSize:"33px !important",fonWeight:"bold"}),a),mapContainer:{width:"100vw",height:"65vh",paddingTop:"4.5vh",paddingBottom:"2.5vh"},bottom:(n={display:"flex",margin:"auto",flexDirection:"row",width:"55vw"},Object(f.a)(n,e.breakpoints.down("xs"),{paddingTop:"0px"}),Object(f.a)(n,e.breakpoints.up("sm"),{paddingTop:"5px"}),Object(f.a)(n,e.breakpoints.up("lg"),{paddingTop:"10px"}),n),bottomWrapper:(r={},Object(f.a)(r,e.breakpoints.down("xs"),{marginTop:"-35px",zIndex:100}),Object(f.a)(r,e.breakpoints.up("sm"),{marginTop:"0px"}),Object(f.a)(r,e.breakpoints.up("md"),{marginTop:"0px"}),r)}})(ye),be=a(211),ge=a(202),Se=a.n(ge),ve=a(203),Oe=a.n(ve),Ce=a(204),ke=a.n(Ce),je=a(205),De=a.n(je),Ee=a(104),Ae=a.n(Ee),we=a(51),Me=a.n(we),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleNext=function(){2!==a.state.activeStep&&a.props.setStep(a.state.activeStep+1),a.setState(function(e){return{activeStep:e.activeStep+1}})},a.handleBack=function(){a.props.setStep(a.state.activeStep-1),a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleReset=function(){a.props.setStep(0),a.setState({activeStep:0})},a.state={activeStep:0},a.handleNext=a.handleNext.bind(Object(h.a)(Object(h.a)(a))),a.handleBack=a.handleBack.bind(Object(h.a)(Object(h.a)(a))),a.handleReset=a.handleReset.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.steps(),n=this.state.activeStep;return r.a.createElement("div",{className:t.root},r.a.createElement(Se.a,{activeStep:n,orientation:"vertical"},a.map(function(o,i){return r.a.createElement(Oe.a,{key:o},r.a.createElement(ke.a,null,o),r.a.createElement(De.a,null,r.a.createElement(O.a,null,e.props.stepDescription(i)),r.a.createElement("div",{className:t.actionsContainer},r.a.createElement("div",null,e.props.stepContent(i)),r.a.createElement("div",null,r.a.createElement(Ae.a,{disabled:0===n,onClick:e.handleBack,className:t.button},"Back"),r.a.createElement(Ae.a,{variant:"contained",color:"primary",onClick:e.handleNext,className:t.button},n===a.length-1?"Final Fate":"Next")))))})),n===a.length&&r.a.createElement(Me.a,{square:!0,elevation:0,className:t.resetContainer},r.a.createElement(Ae.a,{onClick:this.handleReset,className:t.button},"Try Again!")))}}]),t}(r.a.Component),Ne=Object(b.withStyles)(function(e){return{root:{width:"40%"},button:{marginTop:e.spacing.unit,marginRight:e.spacing.unit},actionsContainer:{marginBottom:2*e.spacing.unit},resetContainer:{padding:3*e.spacing.unit}}})(Te),Re=a(207),Be=a.n(Re),Pe=a(206),xe=a.n(Pe),Le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.props.selectCountry(e.target.value)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.countries;return r.a.createElement("form",{className:t.root,autoComplete:"off"},r.a.createElement(B.a,{variant:"filled",className:t.formControl},r.a.createElement(xe.a,{htmlFor:"filled-age-simple"},"Country"),r.a.createElement(N.a,{value:this.props.country,onChange:this.handleChange,input:r.a.createElement(Be.a,{name:"age",id:"filled-age-simple"})},a.map(function(e){return r.a.createElement(x.a,{key:e,value:e},e)}))))}}]),t}(r.a.Component),Ie=Object(b.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(Le),Ge=a(61),We=a.n(Ge),Fe=a(101),Ue=a.n(Fe),Ye=a(60),He=a.n(Ye),Ke=a(129),ze=a.n(Ke),Ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.switchGender(e.target.value)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(B.a,{component:"fieldset",className:e.formControl},r.a.createElement(ze.a,{component:"legend"},"Gender"),r.a.createElement(Ue.a,{"aria-label":"Gender",name:"gender1",className:e.group,value:this.props.gender,onChange:this.handleChange},r.a.createElement(He.a,{value:"female",control:r.a.createElement(We.a,null),label:"Female"}),r.a.createElement(He.a,{value:"male",control:r.a.createElement(We.a,null),label:"Male"}))))}}]),t}(r.a.Component),Ze=Object(b.withStyles)(function(e){return{root:{display:"flex"},formControl:{margin:3*e.spacing.unit},group:{margin:"".concat(e.spacing.unit,"px 0")}}})(Ve),Je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.switchSmoker("isSmoker"===e.target.value)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(B.a,{component:"fieldset",className:e.formControl},r.a.createElement(Ue.a,{"aria-label":"Smoker",name:"gender1",className:e.group,value:this.props.isSmoker?"isSmoker":"notSmoker",onChange:this.handleChange},r.a.createElement(He.a,{key:"isSmoker",value:"isSmoker",control:r.a.createElement(We.a,null),label:"I love smoking"}),r.a.createElement(He.a,{key:"notSmoker",value:"notSmoker",control:r.a.createElement(We.a,null),label:"I don't smoke"}))))}}]),t}(r.a.Component),Qe=Object(b.withStyles)(function(e){return{root:{display:"flex"},formControl:{margin:3*e.spacing.unit},group:{margin:"".concat(e.spacing.unit,"px 0")}}})(Je),Xe=a(208),$e=a.n(Xe),qe=a(0),_e=a.n(qe),et=a(128),tt=a.n(et),at=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleFlipCoin=function(){var e=100*Math.random()<a.props.flipCoin;a.props.setWillBeSmoker(e),a.props.resetFlipCoin()},a.renderFlipCoinButton=function(){var e=a.props.classes;return r.a.createElement(tt.a,{variant:"contained",color:"primary",onClick:a.handleFlipCoin,className:e.button},"Flip A Coin! rate: ",parseFloat(a.props.flipCoin).toFixed(2),"%")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,this.props.title),r.a.createElement("div",null,null===this.props.flipCoin?null:this.renderFlipCoinButton()),r.a.createElement(ne.b,{data:this.props.data,height:300,width:300,devicePixelRatio:2,options:this.props.options,onClick:function(){return e.handleClick()}}))}}]),t}(r.a.Component);at.propsTypes={classes:_e.a.object,title:_e.a.string,data:_e.a.object,flipCoin:_e.a.number,setWillBeSmoker:_e.a.func,resetFlipCoin:_e.a.func,options:_e.a.object.isRequired};var nt=Object(b.withStyles)(function(e){return{button:{marginTop:e.spacing.unit,marginRight:e.spacing.unit}}})(at),rt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).preCalculateData=function(){var e=function(e){var t="male"===e?a.props.data.typeYearDataSet.maleInPercent.data:a.props.data.typeYearDataSet.femaleInPercent.data,n=Object.keys(t);n.forEach(function(n){t[n].forEach(function(t){var n=t.countryName;a.countryGenderData[e][n]?a.countryGenderData[e][n]+="male"===e?t.maleInPercent:t.femaleInPercent:a.countryGenderData[e][n]="male"===e?t.maleInPercent:t.femaleInPercent})}),a.countries.forEach(function(t){a.countryGenderData[e][t]=a.countryGenderData[e][t]/n.length})},t=function(e){var t="cancer"===e?a.props.data.typeYearDataSet.cancerDeathInPercent.data:a.props.data.typeYearDataSet.death.data,n=Object.keys(t);n.forEach(function(n){t[n].forEach(function(t){var n=t.countryName;a.countryDeathData[e][n]?a.countryDeathData[e][n]+="cancer"===e?t.cancerDeathInPercent:t.death:a.countryDeathData[e][n]="cancer"===e?t.cancerDeathInPercent:t.death})}),a.countries.forEach(function(t){a.countryDeathData[e][t]=a.countryDeathData[e][t]/n.length})};!function(){var e=a.props.data.typeYearDataSet.prevalenceInPercent.data,t=Object.keys(e);t.forEach(function(t){e[t].forEach(function(e){var t=e.countryName;a.countries.add(t),a.countryData[t]=a.countryData[t]?a.countryData[t]+e.prevalenceInPercent:e.prevalenceInPercent})}),a.countries.forEach(function(e){a.countryData[e]=a.countryData[e]/t.length})}(),e("male"),e("female"),t("cancer"),t("death"),function(){var e=new Set;Object.keys(a.countryGenderData).forEach(function(t){Object.keys(a.countryGenderData[t]).forEach(function(n){a.countryGenderData[t][n]||e.add(n)})}),a.countries.forEach(function(t){e.has(t)&&a.countries.delete(t)})}()},a.prepareSteps=function(){return["Where are you from?","Male or female?","Do you smoke?"]},a.prepareStepDescription=function(e){switch(e){case 0:return"Select your country.";case 1:return"Select your gender.";case 2:return"Select whether you smoke.";default:return"Unknown step"}},a.prepareStepContent=function(e){switch(e){case 0:return a.renderCountrySelection();case 1:return a.renderGenderSelection();case 2:return a.renderSmokeSelection();default:return}},a.preparePieChartTitle=function(e){var t=a.state,n=t.country,r=t.gender;switch(e){case 0:return"Smokers in "+n;case 1:return a.state.gender?r.replace(/^./,function(e){return e.toUpperCase()})+" smokers in "+n:"Please Select Your Gender";case 2:if(a.state.isSmoker)return"Died Of Smoking in "+n;if(null===a.state.willBeSmoker)return"Will you become a somker?";if(a.state.willBeSmoker)return"You might be smoker one day!";if(!1===a.state.willBeSmoker)return"You will not smoke forever!"}},a.preparePieChartData=function(e,t){switch(e){case 0:return a.prepareCountryData(a.state.country);case 1:return a.prepareGenderData(a.state.country,a.state.gender);case 2:return a.prepareDeathData(a.state.country,t)}},a.prepareDeathData=function(e,t){if(t||a.state.willBeSmoker){var n=a.countryDeathData.cancer,r=a.countryDeathData.death,o=n[e]?parseFloat(n[e]).toFixed(2):0,i=(r[e]?parseFloat(r[e]).toFixed(2):0)-o;return{labels:["Die of Cancer","Die of other smoking diseases","Normal Death"],datasets:[{data:[o,i,100-o-i],backgroundColor:["#00073d","#4f3618","#e2ceb5"],hoverBackgroundColor:["#1f3b5e","#845d2d","#e2ceb5"]}]}}return{labels:[],datasets:[{data:[100],backgroundColor:["#e2ceb5"],hoverBackgroundColor:["#e2ceb5"]}]}},a.preparePieOption=function(){return{tooltips:{mode:"label",position:"nearest",callbacks:{label:function(e,t){return t.labels[e.index]+": "+t.datasets[0].data[e.index]+"%"}}}}},a.renderCountrySelection=function(){return r.a.createElement(Ie,{countries:Object(be.a)(a.countries),Reset:!0,country:a.state.country,selectCountry:function(e){a.setState({country:e})}})},a.renderGenderSelection=function(){return r.a.createElement(Ze,{gender:a.state.gender,switchGender:function(e){a.setState({gender:e})}})},a.renderSmokeSelection=function(){return r.a.createElement(Qe,{isSmoker:a.state.isSmoker,switchSmoker:function(e){a.setState({isSmoker:e})}})},a.renderStepper=function(){return r.a.createElement(Ne,{steps:a.prepareSteps,stepDescription:function(e){return a.prepareStepDescription(e)},stepContent:function(e){return a.prepareStepContent(e)},countries:a.countries,step:a.state.step,setStep:function(e){return a.setState({step:e})}})},a.renderPieChart=function(){return r.a.createElement(nt,{title:a.preparePieChartTitle(a.state.step),data:a.preparePieChartData(a.state.step,a.state.isSmoker),step:a.state.step,options:a.preparePieOption(),flipCoin:a.state.flipCoin,setWillBeSmoker:function(e){return a.setState({willBeSmoker:e})},resetFlipCoin:function(){return a.setState({flipCoin:null})}})},a.state={country:"Singapore",gender:"female",isSmoker:!0,step:0,willBeSmoker:null,flipCoin:null},a.countries=new Set,a.countryData={},a.countryGenderData={male:{},female:{}},a.countryDeathData={cancer:{},death:{}},a.prepareSteps=a.prepareSteps.bind(Object(h.a)(Object(h.a)(a))),a.prepareStepContent=a.prepareStepContent.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.preCalculateData()}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.attantion.handleClickOpen()},300)}},{key:"componentWillUpdate",value:function(e,t,a){null===t.flipCoin&&2===t.step&&!t.isSmoker&&this.state.isSmoker&&(this.state.gender?this.setState({flipCoin:this.countryGenderData[this.state.gender][this.state.country]}):this.setState({flipCoin:this.countryData[this.state.country]})),null!==t.flipCoin||2!==t.step||t.isSmoker||1!==this.state.step||this.setState({flipCoin:this.countryGenderData[this.state.gender][this.state.country]}),1===t.step&&2===this.state.step&&this.setState({flipCoin:null,willBeSmoker:null}),t.isSmoker&&!1===this.state.isSmoker&&this.setState({flipCoin:null,willBeSmoker:null}),0===t.step&&2===this.state.step&&this.setState({flipCoin:null,willBeSmoker:null})}},{key:"prepareCountryData",value:function(e){var t=parseFloat(this.countryData[e]).toFixed(2);return{labels:["Smokers","Non-smokers"],datasets:[{data:[t,100-t],backgroundColor:["#4f3618","#e2ceb5"],hoverBackgroundColor:["#845d2d","#e2ceb5"]}]}}},{key:"prepareGenderData",value:function(e,t){if(t){var a=parseFloat(this.countryGenderData[t][e]).toFixed(2);return{labels:["Smokers","Non-smokers"],datasets:[{data:[a,100-a],backgroundColor:["#4f3618","#e2ceb5"],hoverBackgroundColor:["#845d2d","#e2ceb5"]}]}}return{labels:[],datasets:[{data:[100],backgroundColor:["#e2ceb5"],hoverBackgroundColor:["#e2ceb5"]}]}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($e.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},this.renderStepper(),this.renderPieChart()),r.a.createElement(q,{title:"Attention",onRef:function(t){e.attantion=t}},"Please follow the steps, we will come out a smoking related result for you base on our data."))}}]),t}(n.Component),ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={},a.styles=a.props.classes,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.styles.container},r.a.createElement("div",{className:this.styles.titleWrapper},r.a.createElement("span",{className:this.styles.mainTitle},"Smoke Till My Last Breath")),r.a.createElement("div",{className:this.styles.titleWrapper,style:{marginTop:"22px"}},r.a.createElement("span",{className:this.styles.subTitle},"Is So Good")))}}]),t}(n.Component),it=Object(b.withStyles)(function(e){var t,a;return{container:{width:"100vw",marginTop:"100px"},titleWrapper:{textAlign:"center",color:"black",fontFamily:"Verdana, Geneva, sans-serif"},mainTitle:(t={},Object(f.a)(t,e.breakpoints.down("xs"),{fontSize:"24px !important"}),Object(f.a)(t,e.breakpoints.up("sm"),{fontSize:"40px !important",fonWeight:"bold"}),Object(f.a)(t,e.breakpoints.up("md"),{fontSize:"55px !important",fonWeight:"bold"}),t),subTitle:(a={},Object(f.a)(a,e.breakpoints.down("xs"),{fontSize:"8px !important"}),Object(f.a)(a,e.breakpoints.up("sm"),{fontSize:"14px !important",fonWeight:"bold"}),Object(f.a)(a,e.breakpoints.up("md"),{fontSize:"20px !important",fonWeight:"bold"}),a)}})(ot),lt=(a(5778),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getNavigationBar=function(){return[{url:"https://imgcs.artprintimages.com/img/print/print/pela-design-old-world-map_a-l-9730967-0.jpg?w=550&h=550",title:"World",width:"50%",func:a.onMapShow},{url:"https://cmkt-image-prd.global.ssl.fastly.net/0.1.0/ps/3531131/1360/906/m1/fpnw/wm1/wyxjobfaj3tqsfffecuvn3asvh9jutaao5tv8wmi2petimokkb1ksubbpbazinh2-.jpg?1509966990&s=5858246a1eae64c71c048b64d355653b",title:"Fate",width:"50%",func:a.onDataShow}]},a.getCountryYear=function(){fetch(K.fetchUrl,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){K.allData=e,a.setState({data:e})}).catch(function(e){return console.log(e)})},a.onMapShow=function(){a.state.history.push("/map")},a.onDataShow=function(){a.state.history.push("/fate")},a.renderMap=function(){return null!=a.state.data?r.a.createElement(fe,{data:a.state.data}):r.a.createElement("div",null)},a.renderData=function(){return null!=a.state.data?r.a.createElement(rt,{data:a.state.data}):r.a.createElement("div",null)},a.state={data:null,history:null},a.getNavigationBar=a.getNavigationBar.bind(Object(h.a)(Object(h.a)(a))),a.onMapShow=a.onMapShow.bind(Object(h.a)(Object(h.a)(a))),a.onDataShow=a.onDataShow.bind(Object(h.a)(Object(h.a)(a))),a.renderMap=a.renderMap.bind(Object(h.a)(Object(h.a)(a))),a.getCountryYear=a.getCountryYear.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({history:this.props.history}),this.getCountryYear()}},{key:"render",value:function(){return r.a.createElement("div",{className:"base"},r.a.createElement("div",{id:"toolbar"},r.a.createElement(C,{images:this.getNavigationBar()})),r.a.createElement("div",{id:"content"},r.a.createElement(m.a,{exact:!0,path:"/",component:it}),r.a.createElement(m.a,{path:"/map",component:this.renderMap}),r.a.createElement(m.a,{path:"/fate",component:this.renderData})))}}]),t}(n.Component)),st=Object(y.a)(lt),ct=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.title="Chainsmokers"}},{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(st,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5429,2,1]]]);
//# sourceMappingURL=main.a47187f7.chunk.js.map